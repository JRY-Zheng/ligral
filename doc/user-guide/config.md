# 设置语句

求解一个仿真模型需要用到许多设置参数，比如求解器的选择和配置、输出文件存放位置等。

这些设置语句部分可以在程序运行时通过参数传入，如果没有参数传入，则以 lig 文件中的设置语句为准。如果在 lig 文件中没有进行设置，则会采用默认参数。默认参数记录在 ligral 可执行程序所在文件夹的 default.lig 文件中。如果该文件不存在，则会使用硬编码在 ligral 程序中的设置。

以下列举了目前支持的设置项。

### 步长

**定义：** 该设置项适用于定步长求解器（目前暂时仅支持定步长欧拉求解器），给定了该求解器的步长。

**默认：** 0.01 秒。

**设置方法：**

- 可以在运行时添加`-s`参数进行设置，例如：`ligral test.lig -s 0.01`，将步长设置为 0.01 秒。
- 可以在 lig 文件中写下`conf step_size = 0.01;`，也可达到同样效果。

### 时长

**定义：** 该设置项适用于所有求解器，给定了该求解器的仿真总时长。

**默认：** 10 秒。

**设置方法：**

- 可以在运行时添加`-t`参数进行设置，例如：`ligral test.lig -t 10`，将总时长设置为 10 秒。
- 可以在 lig 文件中写下`conf stop_time = 10;`，也可达到同样效果。

### 输出文件夹

**定义：** 所有在 ligral 中标记为输出的信号（例如 Scope、Print 和 PhaseDiagram）都会被保存到本地的 CSV 文件中（具体参见模块文档），除此之外一些模块可能也会有输出文件，该设置项设置了输出文件存放的文件夹。

**默认：** 输出文件放在与 lig 文件同名的文件夹下。运行`ligral folder/test.lig`，若 lig 文件中没有规定输出文件夹，则输出文件被放置在文件夹 folder/test/* 下。

**设置方法：**

- 可以在运行时添加`-o`参数进行设置，例如：`ligral test.lig -o out`，将输出文件夹设置为 out。
- 可以在 lig 文件中写下`conf output_folder = 'out';`，也可达到同样效果。

### IP 地址

**定义：** Ligral 程序运行时通过发送 UDP 包的方式与其他程序共享数据，改设置项设置了网关的 IP 地址。

**默认：** 127.0.0.1。

**设置方法：**

- 可以在 lig 文件中写下`conf ip_address = '127.0.0.1';`，将 IP 地址设置为 127.0.0.1。

### 端口

**定义：** Ligral 程序运行时通过发送 UDP 包的方式与其他程序共享数据，改设置项设置了网关的端口。

**默认：** 8783。

**设置方法：**

- 可以在 lig 文件中写下`conf port = 8783;`，将端口设置为 8783。

### 实时绘图

**定义：** 该项设置了绘图模块是否应实时发送数据至绘图工具，从而实现实时绘图。一般在实时仿真时使用，但目前 ligral 尚未支持实时仿真。

**默认：** 不实时绘图。

**设置方法：**

- 可以在 lig 文件中写下`conf realtime_draw = true;`，将端口设置为 8783。